<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="URL・文章・連絡先など、好きな内容を入力するだけで QR コードを自動生成します。イベント配布、SNS プロフィール共有、メモの保存など幅広く使えます。">
    <title>ミュージックプレイヤー | Useful Tools</title>
    
    <!-- Font Awesome のCDN読み込み -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">

    <!-- 速度最適化：DNS を先に引く -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
  
    <!-- 速度最適化：接続を先に張る -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  
    <!-- Material Symbols Outlined 読み込み -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
    
    <!-- CSS の読み込み -->
    <link rel="stylesheet" href="../../assets/css/variables.css">
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../main.css" data-page>
    <link rel="stylesheet" href="./styles.css" data-page>
    
    <!-- JSの読み込み -->
    <script type="module" src="../../index.js"></script>
    <page-script src="./player.js" once></page-script>
    <page-script src="./script.js"></page-script>
  </head>
  <body>
    <com-header></com-header>

    <main>
      <h1>ミュージックプレイヤー 完全版デモ</h1>
  
      <div class="tool">
        <input type="file" id="fileUp" hidden multiple accept="audio/*">
        <label for="fileUp">ファイルをアップロード...</label>
      </div>
  
      <div class="player-ui">
        <div class="info">
          <div><strong>曲名:</strong> <span id="trackName">---</span></div>
          <div><strong>インデックス:</strong> <span id="trackIndex">-</span> / <span id="trackCount">0</span></div>
        </div>
  
        <div class="controls">
          <button id="prev" class=".nostyle"><i class="fa fa-backward"></i></button>
          <button id="play" class=".nostyle"><i class="fa fa-play"></i></button>
          <button id="next" class=".nostyle"><i class="fa fa-forward"></i></button>
        </div>
  
        <div class="seek">
          <span id="current">0:00</span>
          <input type="range" id="seekBar" min="0" max="100" value="0">
          <span id="duration">0:00</span>
        </div>
  
        <div class="extra">
          <div>
            <label>音量</label>
            <input type="range" id="volume" min="0" max="1" step="0.01" value="1">
          </div>
          <div>
            <label><input type="checkbox" id="mute"> ミュート</label>
          </div>
          <div>
            <label>速度</label>
            <select id="rate">
              <option value="0.5">0.5x</option>
              <option value="0.75">0.75x</option>
              <option value="1" selected>1.0x</option>
              <option value="1.25">1.25x</option>
              <option value="1.5">1.5x</option>
              <option value="2">2.0x</option>
            </select>
          </div>
          <div>
            <label><input type="checkbox" id="loop"> ループ</label>
          </div>
        </div>
  
        <div class="playlist">
          <strong>プレイリスト</strong>
          <ul id="list"></ul>
        </div>
  
        <div class="debug">
          <div>progress: <span id="dbgProgress">0</span></div>
          <div>paused: <span id="dbgPaused">true</span>, ended: <span id="dbgEnded">false</span></div>
        </div>
      </div>
    </main>

    <com-footer></com-footer>
  </body>
</html>
